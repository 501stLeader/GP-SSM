import torch

def get_K_blocks_GIP_sum_PANDA_4dof_no_subs(X1, X2, pos_indices, vel_indices, acc_indices, sigma_kin_vel_list, sigma_kin_pos_list, sigma_pot_list):

    q_i1 = X1[:,pos_indices[0]:pos_indices[0]+1]
    dq_i1 = X1[:,vel_indices[0]:vel_indices[0]+1]
    ddq_i1 = X1[:,acc_indices[0]:acc_indices[0]+1]
    q_j1 = X2[:,pos_indices[0]:pos_indices[0]+1]
    dq_j1 = X2[:,vel_indices[0]:vel_indices[0]+1]
    ddq_j1 = X2[:,acc_indices[0]:acc_indices[0]+1]
    q_i2 = X1[:,pos_indices[1]:pos_indices[1]+1]
    dq_i2 = X1[:,vel_indices[1]:vel_indices[1]+1]
    ddq_i2 = X1[:,acc_indices[1]:acc_indices[1]+1]
    q_j2 = X2[:,pos_indices[1]:pos_indices[1]+1]
    dq_j2 = X2[:,vel_indices[1]:vel_indices[1]+1]
    ddq_j2 = X2[:,acc_indices[1]:acc_indices[1]+1]
    q_i3 = X1[:,pos_indices[2]:pos_indices[2]+1]
    dq_i3 = X1[:,vel_indices[2]:vel_indices[2]+1]
    ddq_i3 = X1[:,acc_indices[2]:acc_indices[2]+1]
    q_j3 = X2[:,pos_indices[2]:pos_indices[2]+1]
    dq_j3 = X2[:,vel_indices[2]:vel_indices[2]+1]
    ddq_j3 = X2[:,acc_indices[2]:acc_indices[2]+1]
    q_i4 = X1[:,pos_indices[3]:pos_indices[3]+1]
    dq_i4 = X1[:,vel_indices[3]:vel_indices[3]+1]
    ddq_i4 = X1[:,acc_indices[3]:acc_indices[3]+1]
    q_j4 = X2[:,pos_indices[3]:pos_indices[3]+1]
    dq_j4 = X2[:,vel_indices[3]:vel_indices[3]+1]
    ddq_j4 = X2[:,acc_indices[3]:acc_indices[3]+1]

    sigma_kin_v_1_1 = sigma_kin_vel_list[0][0]
    sigma_kin_p_1_1_s = sigma_kin_pos_list[0][0]
    sigma_kin_p_1_1_c = sigma_kin_pos_list[0][1]
    sigma_kin_p_1_1_off = sigma_kin_pos_list[0][2]
    sigma_pot_1_s = sigma_pot_list[0][0]
    sigma_pot_1_c = sigma_pot_list[0][1]
    sigma_pot_1_off = sigma_pot_list[0][2]
    sigma_kin_v_2_1 = sigma_kin_vel_list[1][0]
    sigma_kin_p_2_1_s = sigma_kin_pos_list[1][0]
    sigma_kin_p_2_1_c = sigma_kin_pos_list[1][1]
    sigma_kin_p_2_1_off = sigma_kin_pos_list[1][2]
    sigma_kin_v_2_2 = sigma_kin_vel_list[1][1]
    sigma_kin_p_2_2_s = sigma_kin_pos_list[2][0]
    sigma_kin_p_2_2_c = sigma_kin_pos_list[2][1]
    sigma_kin_p_2_2_off = sigma_kin_pos_list[2][2]
    sigma_pot_2_s = sigma_pot_list[1][0]
    sigma_pot_2_c = sigma_pot_list[1][1]
    sigma_pot_2_off = sigma_pot_list[1][2]
    sigma_kin_v_3_1 = sigma_kin_vel_list[2][0]
    sigma_kin_p_3_1_s = sigma_kin_pos_list[3][0]
    sigma_kin_p_3_1_c = sigma_kin_pos_list[3][1]
    sigma_kin_p_3_1_off = sigma_kin_pos_list[3][2]
    sigma_kin_v_3_2 = sigma_kin_vel_list[2][1]
    sigma_kin_p_3_2_s = sigma_kin_pos_list[4][0]
    sigma_kin_p_3_2_c = sigma_kin_pos_list[4][1]
    sigma_kin_p_3_2_off = sigma_kin_pos_list[4][2]
    sigma_kin_v_3_3 = sigma_kin_vel_list[2][2]
    sigma_kin_p_3_3_s = sigma_kin_pos_list[5][0]
    sigma_kin_p_3_3_c = sigma_kin_pos_list[5][1]
    sigma_kin_p_3_3_off = sigma_kin_pos_list[5][2]
    sigma_pot_3_s = sigma_pot_list[2][0]
    sigma_pot_3_c = sigma_pot_list[2][1]
    sigma_pot_3_off = sigma_pot_list[2][2]
    sigma_kin_v_4_1 = sigma_kin_vel_list[3][0]
    sigma_kin_p_4_1_s = sigma_kin_pos_list[6][0]
    sigma_kin_p_4_1_c = sigma_kin_pos_list[6][1]
    sigma_kin_p_4_1_off = sigma_kin_pos_list[6][2]
    sigma_kin_v_4_2 = sigma_kin_vel_list[3][1]
    sigma_kin_p_4_2_s = sigma_kin_pos_list[7][0]
    sigma_kin_p_4_2_c = sigma_kin_pos_list[7][1]
    sigma_kin_p_4_2_off = sigma_kin_pos_list[7][2]
    sigma_kin_v_4_3 = sigma_kin_vel_list[3][2]
    sigma_kin_p_4_3_s = sigma_kin_pos_list[8][0]
    sigma_kin_p_4_3_c = sigma_kin_pos_list[8][1]
    sigma_kin_p_4_3_off = sigma_kin_pos_list[8][2]
    sigma_kin_v_4_4 = sigma_kin_vel_list[3][3]
    sigma_kin_p_4_4_s = sigma_kin_pos_list[9][0]
    sigma_kin_p_4_4_c = sigma_kin_pos_list[9][1]
    sigma_kin_p_4_4_off = sigma_kin_pos_list[9][2]
    sigma_pot_4_s = sigma_pot_list[3][0]
    sigma_pot_4_c = sigma_pot_list[3][1]
    sigma_pot_4_off = sigma_pot_list[3][2]

    
    x0 = torch.sin(q_j1)
    x1 = torch.sin(q_i1)
    x2 = x0*x1
    x3 = torch.cos(q_i1)
    x4 = torch.cos(q_j1)
    x5 = x3*x4
    x6 = sigma_kin_v_1_1**2
    x7 = sigma_kin_p_1_1_c*x5 + sigma_kin_p_1_1_off + sigma_kin_p_1_1_s*x2
    x8 = x6*x7
    x9 = x8*(sigma_kin_p_1_1_c*x2 + sigma_kin_p_1_1_s*x5)
    x10 = dq_j1**2
    x11 = dq_i1**2
    x12 = 2*x11
    x13 = x10*x12
    x14 = x0*x3
    x15 = x1*x4
    x16 = sigma_kin_p_1_1_c*x14 - sigma_kin_p_1_1_s*x15
    x17 = sigma_kin_p_1_1_c*x15 - sigma_kin_p_1_1_s*x14
    x18 = x16*x17*x6
    x19 = sigma_kin_p_2_1_c*x2 + sigma_kin_p_2_1_s*x5
    x20 = torch.cos(q_i2)
    x21 = torch.cos(q_j2)
    x22 = x20*x21
    x23 = torch.sin(q_i2)
    x24 = torch.sin(q_j2)
    x25 = x23*x24
    x26 = sigma_kin_p_2_2_c*x22 + sigma_kin_p_2_2_off + sigma_kin_p_2_2_s*x25
    x27 = x26**2
    x28 = sigma_kin_p_2_1_c*x5 + sigma_kin_p_2_1_off + sigma_kin_p_2_1_s*x2
    x29 = x27*x28
    x30 = x19*x29
    x31 = dq_i1*dq_j1
    x32 = dq_i2*dq_j2
    x33 = sigma_kin_v_2_1*x31 + sigma_kin_v_2_2*x32
    x34 = 2*x33**2
    x35 = sigma_pot_2_c*x22 + sigma_pot_2_off + sigma_pot_2_s*x25
    x36 = torch.cos(q_i3)
    x37 = torch.cos(q_j3)
    x38 = x36*x37
    x39 = torch.sin(q_i3)
    x40 = torch.sin(q_j3)
    x41 = x39*x40
    x42 = sigma_pot_3_c*x38 + sigma_pot_3_off + sigma_pot_3_s*x41
    x43 = torch.cos(q_i4)
    x44 = torch.cos(q_j4)
    x45 = x43*x44
    x46 = torch.sin(q_i4)
    x47 = torch.sin(q_j4)
    x48 = x46*x47
    x49 = sigma_pot_4_c*x45 + sigma_pot_4_off + sigma_pot_4_s*x48
    x50 = 1.0*x42*x49
    x51 = sigma_kin_p_2_1_c*x14 - sigma_kin_p_2_1_s*x15
    x52 = sigma_kin_p_2_1_c*x15 - sigma_kin_p_2_1_s*x14
    x53 = x27*x51*x52
    x54 = dq_i3*dq_j3
    x55 = sigma_kin_v_3_1*x31 + sigma_kin_v_3_2*x32 + sigma_kin_v_3_3*x54
    x56 = 2*x55**2
    x57 = sigma_kin_p_3_2_c*x22 + sigma_kin_p_3_2_off + sigma_kin_p_3_2_s*x25
    x58 = x57**2
    x59 = sigma_kin_p_3_1_c*x2 + sigma_kin_p_3_1_s*x5
    x60 = sigma_kin_p_3_3_c*x38 + sigma_kin_p_3_3_off + sigma_kin_p_3_3_s*x41
    x61 = x60**2
    x62 = sigma_kin_p_3_1_c*x5 + sigma_kin_p_3_1_off + sigma_kin_p_3_1_s*x2
    x63 = x61*x62
    x64 = x59*x63
    x65 = x58*x64
    x66 = sigma_kin_p_3_1_c*x14 - sigma_kin_p_3_1_s*x15
    x67 = sigma_kin_p_3_1_c*x15 - sigma_kin_p_3_1_s*x14
    x68 = x61*x66*x67
    x69 = x58*x68
    x70 = 4*dq_j1
    x71 = sigma_kin_p_4_1_c*x14 - sigma_kin_p_4_1_s*x15
    x72 = sigma_kin_p_4_1_c*x5 + sigma_kin_p_4_1_off + sigma_kin_p_4_1_s*x2
    x73 = sigma_kin_p_4_2_c*x22 + sigma_kin_p_4_2_off + sigma_kin_p_4_2_s*x25
    x74 = x73**2
    x75 = x72*x74
    x76 = x71*x75
    x77 = sigma_kin_p_4_3_c*x38 + sigma_kin_p_4_3_off + sigma_kin_p_4_3_s*x41
    x78 = x77**2
    x79 = sigma_kin_p_4_4_c*x44
    x80 = sigma_kin_p_4_4_s*x47
    x81 = sigma_kin_p_4_4_off + x43*x79 + x46*x80
    x82 = x81**2
    x83 = x78*x82
    x84 = sigma_kin_v_4_1*x83
    x85 = x76*x84
    x86 = dq_j4*sigma_kin_v_4_4
    x87 = ddq_i4*x86
    x88 = x85*x87
    x89 = sigma_kin_v_4_1*x31
    x90 = sigma_kin_v_4_2*x32
    x91 = sigma_kin_v_4_3*x54
    x92 = dq_i4*x86
    x93 = x90 + x91 + x92
    x94 = x89 + x93
    x95 = 2*x94**2
    x96 = sigma_kin_p_4_1_c*x2 + sigma_kin_p_4_1_s*x5
    x97 = x75*x96
    x98 = x83*x97
    x99 = sigma_kin_p_4_1_c*x15 - sigma_kin_p_4_1_s*x14
    x100 = x74*x99
    x101 = x100*x83
    x102 = 8*dq_j1
    x103 = sigma_kin_v_4_1*x94
    x104 = -x43*x80 + x46*x79
    x105 = dq_i4*x81
    x106 = x104*x105
    x107 = x106*x78
    x108 = x107*x76
    x109 = x63*x66
    x110 = sigma_kin_v_3_1*x58
    x111 = x109*x110
    x112 = sigma_kin_v_3_3*x111 + sigma_kin_v_4_3*x85
    x113 = ddq_i3*dq_j3
    x114 = x112*x113
    x115 = sigma_kin_v_2_1*sigma_kin_v_2_2
    x116 = x115*x29
    x117 = sigma_kin_v_3_2*x111 + sigma_kin_v_4_2*x85 + x116*x51
    x118 = ddq_i2*dq_j2
    x119 = x117*x118
    x120 = x37*x39
    x121 = x36*x40
    x122 = sigma_kin_p_3_3_c*x120 - sigma_kin_p_3_3_s*x121
    x123 = x110*x55
    x124 = x122*x123
    x125 = x60*x62
    x126 = x125*x66
    x127 = x71*x94
    x128 = sigma_kin_p_4_3_c*x120 - sigma_kin_p_4_3_s*x121
    x129 = x128*x82
    x130 = x72*x77
    x131 = x130*x74
    x132 = x129*x131
    x133 = x127*x132
    x134 = sigma_kin_v_4_1*x133 + x124*x126
    x135 = sigma_kin_v_2_1**2
    x136 = x135*x29
    x137 = sigma_kin_v_3_1**2
    x138 = x137*x58
    x139 = x138*x63
    x140 = sigma_kin_v_4_1**2
    x141 = x140*x83
    x142 = x141*x71
    x143 = x136*x51 + x139*x66 + x142*x75 + x16*x8
    x144 = x72**2
    x145 = x73*x77
    x146 = ddq_i4*x81
    x147 = x145*x146
    x148 = x21*x23
    x149 = x20*x24
    x150 = sigma_kin_p_4_2_c*x148 - sigma_kin_p_4_2_s*x149
    x151 = 2*dq_i2
    x152 = x150*x151
    x153 = x105*x77
    x154 = x105*x73
    x155 = 2*dq_i3
    x156 = x128*x155
    x157 = dq_i4**2
    x158 = x104*x157
    x159 = 2*x145
    x160 = sigma_kin_v_4_4*x81
    x161 = sigma_kin_p_2_2_c*x148 - sigma_kin_p_2_2_s*x149
    x162 = sigma_kin_v_2_1*x33
    x163 = x161*x162
    x164 = x26*x28
    x165 = x164*x51
    x166 = sigma_kin_p_3_2_c*x148 - sigma_kin_p_3_2_s*x149
    x167 = sigma_kin_v_3_1*x166
    x168 = x167*x55
    x169 = x168*x57
    x170 = x127*x84
    x171 = x72*x73
    x172 = x150*x171
    x173 = x109*x169 + x163*x165 + x170*x172
    x174 = x18*x31
    x175 = x31*x9
    x176 = x162*x53
    x177 = x162*x30
    x178 = x123*x68
    x179 = x123*x64
    x180 = x100*x170
    x181 = x84*x94
    x182 = x181*x97
    x183 = x176 + x177 + x178 + x179 + x180 + x182
    x184 = x144*x74
    x185 = x184*x78
    x186 = x106*x185
    x187 = x155*x186
    x188 = sigma_kin_v_4_1*sigma_kin_v_4_3
    x189 = x62**2
    x190 = x189*x61
    x191 = x190*x58
    x192 = sigma_kin_v_3_1*x191
    x193 = x184*x83
    x194 = sigma_kin_v_4_1*x193
    x195 = sigma_kin_v_3_3*x192 + sigma_kin_v_4_3*x194
    x196 = x63*x67
    x197 = sigma_kin_v_3_3*x110
    x198 = x75*x99
    x199 = sigma_kin_v_4_3*x84
    x200 = x196*x197 + x198*x199
    x201 = dq_i1*x155
    x202 = x190*x57
    x203 = sigma_kin_v_3_3*x202
    x204 = x144*x73
    x205 = x150*x204
    x206 = x167*x203 + x199*x205
    x207 = dq_i3*x151
    x208 = x189*x60
    x209 = x122*x208
    x210 = x184*x77
    x211 = x129*x210
    x212 = sigma_kin_v_4_1*x211
    x213 = sigma_kin_v_4_3*x212 + x197*x209
    x214 = dq_i3**2
    x215 = 2*x214
    x216 = 2*ddq_j3
    x217 = dq_i1*x151
    x218 = x116*x52
    x219 = sigma_kin_v_3_2*x110
    x220 = x196*x219
    x221 = sigma_kin_v_4_2*x84
    x222 = x198*x221
    x223 = x151*x186
    x224 = sigma_kin_v_4_1*sigma_kin_v_4_2
    x225 = sigma_kin_v_4_2*x212 + x209*x219
    x226 = x28**2
    x227 = x226*x27
    x228 = sigma_kin_v_3_2*x192 + sigma_kin_v_4_2*x194 + x115*x227
    x229 = x218 + x220 + x222
    x230 = x226*x26
    x231 = x115*x230
    x232 = x161*x231
    x233 = sigma_kin_v_3_2*x202
    x234 = x167*x233
    x235 = x205*x221
    x236 = x232 + x234 + x235
    x237 = dq_i2**2
    x238 = 2*x237
    x239 = 2*ddq_j2
    x240 = 2*dq_i1
    x241 = x145*x99
    x242 = x240*x241
    x243 = sigma_kin_p_4_4_c*x43*x47 - sigma_kin_p_4_4_s*x44*x46
    x244 = x243*x81
    x245 = x242*x244
    x246 = x245*x94
    x247 = 2*x89 + x93
    x248 = x130*x150
    x249 = x151*x248
    x250 = x244*x247
    x251 = x128*x171
    x252 = x155*x251
    x253 = ddq_i1*dq_j1
    x254 = 2*x253
    x255 = x145*x72
    x256 = x244*x255
    x257 = x104*x243
    x258 = dq_i4*x257
    x259 = x255*x89
    x260 = sigma_kin_p_4_4_c*x48 + sigma_kin_p_4_4_s*x45
    x261 = x105*x260
    x262 = sigma_kin_v_4_2*x118
    x263 = -x256*x262
    x264 = sigma_kin_v_4_3*x113
    x265 = -x256*x264
    x266 = x263 + x265
    x267 = x255*x94
    x268 = x147*x72
    x269 = x243*x86
    x270 = x268*x269
    x271 = x258*x267 + x261*x267 - x270
    x272 = 4*x255
    x273 = dq_j4*x272
    x274 = x17*x8
    x275 = x136*x52
    x276 = x139*x67
    x277 = x141*x198
    x278 = x140*x184
    x279 = x138*x208
    x280 = x278*x77
    x281 = x135*x230
    x282 = x137*x202
    x283 = x141*x204
    x284 = sigma_kin_p_4_3_c*x121 - sigma_kin_p_4_3_s*x120
    x285 = x284*x82
    x286 = x210*x285
    x287 = sigma_kin_v_4_1*x286
    x288 = sigma_kin_p_3_3_c*x121 - sigma_kin_p_3_3_s*x120
    x289 = x125*x288*x67
    x290 = x123*x289
    x291 = x240*x99
    x292 = x103*x285
    x293 = x208*x288
    x294 = sigma_kin_v_4_2*x287 + x219*x293
    x295 = sigma_kin_v_4_3*x287 + x197*x293
    x296 = x138*x31
    x297 = x100*x130
    x298 = x285*x297
    x299 = x140*x31
    x300 = x137*x31
    x301 = x166*x57
    x302 = x300*x301
    x303 = x144*x150
    x304 = x285*x303
    x305 = x145*x299
    x306 = x103*x145
    x307 = sigma_kin_p_3_3_c*x41 + sigma_kin_p_3_3_s*x38
    x308 = x189*x288
    x309 = x122*x308
    x310 = x208*x307
    x311 = sigma_kin_p_4_3_c*x41 + sigma_kin_p_4_3_s*x38
    x312 = x311*x82
    x313 = x129*x284
    x314 = x210*x312
    x315 = x184*x313
    x316 = 4*dq_j3
    x317 = sigma_kin_p_2_2_c*x149 - sigma_kin_p_2_2_s*x148
    x318 = x164*x317*x52
    x319 = x162*x318
    x320 = sigma_kin_p_4_2_c*x149 - sigma_kin_p_4_2_s*x148
    x321 = x204*x320
    x322 = x321*x87
    x323 = x196*x57
    x324 = sigma_kin_p_3_2_c*x149 - sigma_kin_p_3_2_s*x148
    x325 = sigma_kin_v_3_1*x324
    x326 = x325*x55
    x327 = x323*x326
    x328 = x181*x320
    x329 = x199*x321 + x203*x325
    x330 = x221*x321 + x231*x317 + x233*x325
    x331 = x209*x57
    x332 = x300*x324
    x333 = x144*x320
    x334 = x129*x333
    x335 = x135*x31
    x336 = x141*x31
    x337 = x171*x99
    x338 = x320*x337
    x339 = sigma_kin_p_2_2_c*x25 + sigma_kin_p_2_2_s*x22
    x340 = x226*x317
    x341 = x161*x340
    x342 = x230*x339
    x343 = sigma_kin_p_3_2_c*x25 + sigma_kin_p_3_2_s*x22
    x344 = x190*x324
    x345 = x166*x344
    x346 = x343*x55
    x347 = sigma_kin_p_4_2_c*x25 + sigma_kin_p_4_2_s*x22
    x348 = x303*x320
    x349 = x204*x347
    x350 = 4*dq_j2
    x351 = dq_j1*x11
    x352 = x122*x126
    x353 = x132*x71
    x354 = x161*x165
    x355 = x142*x31
    x356 = sigma_pot_1_c*x5 + sigma_pot_1_off + sigma_pot_1_s*x2
    x357 = sigma_kin_v_4_2*x83
    x358 = x322*x357
    x359 = x83*x95
    x360 = 8*dq_j2
    x361 = sigma_kin_v_4_2*x94
    x362 = sigma_kin_v_3_2*sigma_kin_v_3_3
    x363 = x202*x362
    x364 = sigma_kin_v_4_2*sigma_kin_v_4_3
    x365 = x364*x83
    x366 = x321*x365 + x324*x363
    x367 = x113*x366
    x368 = ddq_i1*x70
    x369 = sigma_kin_v_2_2**2
    x370 = x230*x369
    x371 = sigma_kin_v_3_2**2
    x372 = x202*x371
    x373 = sigma_kin_v_4_2**2
    x374 = x373*x83
    x375 = x317*x370 + x321*x374 + x324*x372
    x376 = sigma_kin_v_3_2*x55
    x377 = x324*x376
    x378 = x145*x361
    x379 = x331*x377 + x334*x378
    x380 = x146*x72
    x381 = x105*x72
    x382 = 2*x158
    x383 = x130*x160
    x384 = 2*ddq_j4
    x385 = sigma_kin_v_2_2*x33
    x386 = x361*x83
    x387 = x318*x385 + x323*x377 + x338*x386
    x388 = x342*x385
    x389 = x341*x385
    x390 = x233*x346
    x391 = x345*x376
    x392 = x349*x386
    x393 = x348*x386
    x394 = x388 + x389 + x390 + x391 + x392 + x393
    x395 = x191*x362 + x193*x364
    x396 = x362*x58
    x397 = x196*x396 + x198*x365
    x398 = x166*x363 + x205*x365
    x399 = x209*x396 + x211*x364
    x400 = x186*x240
    x401 = 2*ddq_j1
    x402 = x161*x370
    x403 = x166*x372
    x404 = x205*x374
    x405 = x371*x58
    x406 = x208*x405
    x407 = x129*x373
    x408 = x29*x369
    x409 = x248*x94
    x410 = x151*x409
    x411 = x244*x410
    x412 = x89 + x92
    x413 = x412 + 2*x90 + x91
    x414 = x244*x413
    x415 = 2*x118
    x416 = x255*x90
    x417 = sigma_kin_v_4_1*x253
    x418 = -x256*x417
    x419 = x271 + x418
    x420 = x286*x87
    x421 = x301*x376
    x422 = x293*x421
    x423 = x286*x364 + x293*x396
    x424 = x32*x405
    x425 = x376*x58
    x426 = x32*x373
    x427 = x32*x371
    x428 = x301*x427
    x429 = x145*x304
    x430 = x32*x407
    x431 = x184*x284
    x432 = x354*x385
    x433 = x76*x87
    x434 = x109*x421
    x435 = x109*x396 + x365*x76
    x436 = x32*x369
    x437 = x32*x374
    x438 = x172*x71
    x439 = x127*x172
    x440 = x100*x71
    x441 = x101*x127
    x442 = x324*x427
    x443 = 1.0*x35*x356
    x444 = x56*x58
    x445 = sigma_kin_v_4_3*x420
    x446 = 8*dq_j3
    x447 = sigma_kin_v_4_3*x94
    x448 = x118*x423
    x449 = sigma_kin_v_3_3**2
    x450 = x449*x58
    x451 = sigma_kin_v_4_3**2
    x452 = x286*x451 + x293*x450
    x453 = sigma_kin_v_3_3*x55
    x454 = x453*x58
    x455 = x289*x454 + x298*x447
    x456 = x301*x453
    x457 = x145*x447
    x458 = x293*x456 + x304*x457
    x459 = x160*x171
    x460 = x310*x454
    x461 = x309*x454
    x462 = x314*x447
    x463 = x315*x447
    x464 = x460 + x461 + x462 + x463
    x465 = x451*x83
    x466 = x202*x449
    x467 = x251*x94
    x468 = x155*x467
    x469 = x244*x468
    x470 = x412 + x90 + 2*x91
    x471 = x244*x470
    x472 = 2*x113
    x473 = x255*x91
    x474 = sigma_kin_v_4_3*x83
    x475 = x352*x454
    x476 = sigma_kin_v_4_3*x133
    x477 = x449*x54
    x478 = x301*x477
    x479 = x465*x54
    x480 = x450*x54
    x481 = x451*x54
    x482 = x324*x453
    x483 = x331*x482
    x484 = x334*x457
    x485 = x324*x477
    x486 = x447*x83
    x487 = x244*x86
    x488 = 4*x185
    x489 = x487*x488
    x490 = sigma_kin_v_4_4**2
    x491 = x185*x95
    x492 = x260*x81
    x493 = x488*x92*x94
    x494 = dq_i1*x81
    x495 = 8*x269*x94
    x496 = x495*x78
    x497 = dq_i2*x81
    x498 = dq_i3*x81
    x499 = sigma_kin_v_4_4*x255*x82
    x500 = x158*x255
    x501 = x255*x86
    x502 = x244*x92
    x503 = x494*x96
    x504 = x255*x92
    x505 = x255*x81
    x506 = x505*x71
    x507 = 2*x268*x86
    x508 = x241*x494
    x509 = x71*x92
    x510 = x509*x81
    x511 = x382*x501
    x512 = x127*x81
    x513 = x347*x497
    x514 = x320*x505
    x515 = x320*x497
    x516 = x320*x81
    x517 = x516*x92
    x518 = x242*x94
    x519 = x311*x498
    x520 = x284*x505
    x521 = x284*x498
    x522 = x284*x81
    x523 = x522*x92
    
    K_block_list = []
    K_block_list.append(4*ddq_i1*x10*x143 + 4*ddq_j1*(ddq_i1*(x135*x227 + x138*x190 + x141*x184 + x6*x7**2) - x107*x240*x278 + x11*x274 + x11*x275 + x11*x276 + x11*x277 - x12*(x274 + x275 + x276 + x277) - x201*(x122*x279 + x129*x280) - x217*(x150*x283 + x161*x281 + x166*x282)) - ddq_j4*sigma_kin_v_4_1*x144*x159*x160*(-x147 + x152*x153 + x154*x156 + x158*x159) - dq_i2*x102*x173 - dq_i3*x102*x134 + sigma_kin_v_4_1*x273*(-sigma_kin_v_4_1*x254*x256 + x245*x247 - x246 + x249*x250 + x250*x252 + x258*x259 + x259*x261 + x266 + x271) + x101*x71*x95 - x102*x103*x108 + x114*x70 + x119*x70 + x13*x18 + x13*x9 + x216*(ddq_i3*x195 + 2*dq_i1*dq_i3*sigma_kin_v_3_1*sigma_kin_v_3_3*x58*x61*x62*x67 + 2*dq_i1*dq_i3*sigma_kin_v_4_1*sigma_kin_v_4_3*x72*x74*x78*x82*x99 - x187*x188 - x200*x201 - x206*x207 - x213*x215) + x239*(ddq_i2*x228 - x207*x225 + x217*x218 + x217*x220 + x217*x222 - x217*x229 - x223*x224 - x236*x238) + x30*x34 - 4*x31*(x174 + x175 + x183) + x316*(2*dq_i1*dq_i4*dq_j1*x104*x140*x144*x284*x74*x77*x81 + 2*dq_i1*(x289*x296 + x290 + x292*x297 + x298*x299) + 2*dq_i2*(x169*x293 + x293*x302 + x304*x305 + x304*x306) + dq_i3*(x103*x314 + x103*x315 + x123*x310 + x124*x308 + x278*x31*x313 + x279*x307*x31 + x280*x31*x312 + x296*x309) + 2*dq_i4*sigma_kin_v_4_1*x104*x144*x284*x74*x77*x81*x94 - x113*x295 - x118*x294 - x131*x291*x292 - x240*x290 - x254*(x279*x288 + x280*x285) - x287*x87) + x34*x53 + x35*x50*(sigma_pot_1_c*x2 + sigma_pot_1_s*x5) + x350*(2*dq_i1*dq_i4*dq_j1*x104*x140*x144*x320*x73*x78*x81 + 2*dq_i1*(x318*x335 + x319 + x323*x332 + x327 + x328*x337 + x336*x338) + dq_i2*(sigma_kin_v_3_1*x202*x346 + x162*x342 + x163*x340 + x168*x344 + x181*x349 + x281*x31*x339 + x282*x31*x343 + x283*x31*x347 + x300*x345 + x303*x328 + x335*x341 + x336*x348) + 2*dq_i3*(x305*x334 + x306*x334 + x326*x331 + x331*x332) + 2*dq_i4*sigma_kin_v_4_1*x104*x144*x320*x73*x78*x81*x94 - x113*x329 - x118*x330 - x171*x291*x328 - x240*x319 - x240*x327 - x254*(x281*x317 + x282*x324 + x283*x320) - x322*x84) + x56*x65 + x56*x69 + x70*x88 - x70*(dq_i1*x176 + dq_i1*x177 + dq_i1*x178 + dq_i1*x179 + dq_i1*x180 + dq_i1*x182 - dq_i1*(x100*x355 + x136*x19*x31 + x139*x31*x59 + 2*x174 + 2*x175 + x183 + x296*x68 + x335*x53 + x336*x97) - 2*x103*x107*x76 - 2*x108*x299 + x114 + x119 + x143*x254 - x151*(x109*x302 + x172*x355 + x173 + x335*x354) - x155*(x134 + x296*x352 + x299*x353) + x18*x351 + x351*x9 + x88) + x95*x98)
    K_block_list.append(4*ddq_i2*dq_j2**2*x375 + 4*ddq_j2*(ddq_i2*(x191*x371 + x193*x373 + x227*x369) - x207*(x122*x406 + x210*x407) - x217*(x196*x405 + x198*x374 + x408*x52) - x223*x373 + x237*x402 + x237*x403 + x237*x404 - x238*(x402 + x403 + x404)) - dq_i1*x360*x387 - dq_i3*x360*x379 + dq_j2*x330*x368 + sigma_kin_v_4_2*x273*(-sigma_kin_v_4_2*x256*x415 + x245*x413 + x249*x414 + x252*x414 + x258*x416 + x261*x416 + x265 - x411 + x419) - sigma_kin_v_4_2*x383*x384*x74*(x130*x382 + x153*x291 + x156*x381 - x380*x77) - x107*x321*x360*x361 + x202*x343*x56 + x216*(ddq_i3*x395 + 2*dq_i2*dq_i3*sigma_kin_v_3_2*sigma_kin_v_3_3*x166*x189*x57*x61 + 2*dq_i2*dq_i3*sigma_kin_v_4_2*sigma_kin_v_4_3*x144*x150*x73*x78*x82 - x187*x364 - x201*x397 - x207*x398 - x215*x399) + x316*(2*dq_i1*(x289*x424 + x289*x425 + x298*x361 + x298*x426) + 2*dq_i2*dq_i4*dq_j2*x104*x144*x284*x373*x74*x77*x81 + 2*dq_i2*(x293*x428 + x304*x378 + x422 + x426*x429) + dq_i3*(x307*x32*x406 + x309*x424 + x309*x425 + x310*x425 + x314*x361 + x314*x426 + x315*x361 + x430*x431) + 2*dq_i4*sigma_kin_v_4_2*x104*x144*x284*x74*x77*x81*x94 - sigma_kin_v_4_2*x420 - x113*x423 - x144*x152*x285*x378 - x151*x422 - x253*x294 - x415*(x286*x373 + x288*x406)) - 4*x32*x394 + x34*x341 + x34*x342 + x345*x56 + x348*x359 + x349*x359 + x350*x358 + x350*x367 + x350*(2*dq_i1*(x318*x436 + x323*x442 + x338*x437 + x387) + 2*dq_i2*dq_i4*dq_j2*x104*x144*x320*x373*x73*x78*x81 - dq_i2*x388 - dq_i2*x389 - dq_i2*x390 - dq_i2*x391 - dq_i2*x392 - dq_i2*x393 + dq_i2*(x32*x339*x370 + x32*x343*x372 + x341*x436 + x345*x427 + x348*x437 + x349*x437 + x394) + 2*dq_i3*(x145*x333*x430 + x331*x442 + x379) + 2*dq_i4*sigma_kin_v_4_2*x104*x144*x320*x73*x78*x81*x94 - x253*x330 - x358 - x367 - x375*x415) + x356*x50*(sigma_pot_2_c*x25 + sigma_pot_2_s*x22) + x401*(ddq_i1*x228 - x12*x229 - x201*x225 + x217*x232 + x217*x234 + x217*x235 - x217*x236 - x224*x400) + x70*(dq_i1*(sigma_kin_v_4_2*x441 + x19*x32*x408 + x30*x385 + x361*x98 + x376*x65 + x376*x69 + x385*x53 + x424*x64 + x424*x68 + x436*x53 + x437*x440 + x437*x97) + 2*dq_i2*dq_i4*dq_j2*x104*x373*x71*x72*x74*x78*x81 + 2*dq_i2*(x109*x428 + x354*x436 + x357*x439 + x432 + x434 + x437*x438) + 2*dq_i3*(sigma_kin_v_4_2*x133 + x131*x430*x71 + x352*x424 + x352*x425) + 2*dq_i4*sigma_kin_v_4_2*x104*x71*x72*x74*x78*x81*x94 - x113*x435 - x117*x253 - x127*x152*x171*x357 - x151*x432 - x151*x434 - x357*x433 - x415*(x109*x405 + x374*x76 + x408*x51)))
    K_block_list.append(4*ddq_i3*dq_j3**2*x452 + 4*ddq_j3*(ddq_i3*(x191*x449 + x193*x451) + x122*x189*x214*x449*x58*x60 + x128*x144*x214*x451*x74*x77*x82 - x187*x451 - x201*(x196*x450 + x198*x465) - x207*(x166*x466 + x205*x465) - x215*(x209*x450 + x211*x451)) - dq_i1*x446*x455 - dq_i2*x446*x458 + dq_j3*x295*x368 + sigma_kin_v_4_3*x273*(-sigma_kin_v_4_3*x256*x472 + x245*x470 + x249*x471 + x252*x471 + x258*x473 + x261*x473 + x263 + x419 - x469) - sigma_kin_v_4_3*x384*x459*x78*(x152*x381 + x154*x291 + x171*x382 - x380*x73) - x104*x153*x431*x446*x447 + x239*(ddq_i2*x395 + 2*dq_i2*dq_i3*sigma_kin_v_3_2*sigma_kin_v_3_3*x122*x189*x58*x60 + 2*dq_i2*dq_i3*sigma_kin_v_4_2*sigma_kin_v_4_3*x128*x144*x74*x77*x82 - x207*x399 - x217*x397 - x223*x364 - x238*x398) + x309*x444 + x310*x444 + x314*x95 + x315*x95 + x316*x445 + x316*x448 + x316*(2*dq_i1*(x289*x480 + x298*x481 + x455) + 2*dq_i2*(x293*x478 + x429*x481 + x458) + 2*dq_i3*dq_i4*dq_j3*x104*x144*x284*x451*x74*x77*x81 - dq_i3*x460 - dq_i3*x461 - dq_i3*x462 - dq_i3*x463 + dq_i3*(x309*x480 + x310*x480 + x314*x481 + x315*x481 + x464) + 2*dq_i4*sigma_kin_v_4_3*x104*x144*x284*x74*x77*x81*x94 - x253*x295 - x445 - x448 - x452*x472) + x350*(2*dq_i1*(x323*x482 + x323*x485 + x338*x479 + x338*x486) + dq_i2*(x203*x346 + x343*x466*x54 + x345*x453 + x345*x477 + x348*x479 + x348*x486 + x349*x479 + x349*x486) + 2*dq_i3*dq_i4*dq_j3*x104*x144*x320*x451*x73*x78*x81 + 2*dq_i3*(x145*x334*x481 + x331*x485 + x483 + x484) + 2*dq_i4*sigma_kin_v_4_3*x104*x144*x320*x73*x78*x81*x94 - x118*x366 - x155*x483 - x155*x484 - x253*x329 - x322*x474 - x472*(x321*x465 + x324*x466)) + x401*(ddq_i1*x195 + 2*dq_i1*dq_i3*sigma_kin_v_3_1*sigma_kin_v_3_3*x122*x189*x58*x60 + 2*dq_i1*dq_i3*sigma_kin_v_4_1*sigma_kin_v_4_3*x128*x144*x74*x77*x82 - x12*x200 - x188*x400 - x201*x213 - x206*x217) + x443*x49*(sigma_pot_3_c*x41 + sigma_pot_3_s*x38) - 4*x464*x54 + x70*(dq_i1*(sigma_kin_v_4_3*x441 + x440*x479 + x447*x98 + x453*x65 + x453*x69 + x479*x97 + x480*x64 + x480*x68) + 2*dq_i2*(x109*x456 + x109*x478 + x438*x479 + x439*x474) + 2*dq_i3*dq_i4*dq_j3*x104*x451*x71*x72*x74*x78*x81 + 2*dq_i3*(x352*x480 + x353*x481 + x475 + x476) + 2*dq_i4*sigma_kin_v_4_3*x104*x71*x72*x74*x78*x81*x94 - x112*x253 - x118*x435 - x155*x475 - x155*x476 - x433*x474 - x472*(x109*x450 + x465*x76)))
    K_block_list.append(-ddq_j4*x272*x490*x81*(x105*x242 + x105*x249 + x105*x252 - x268 + x500) + dq_j4**2*x146*x243*x488*x490 + sigma_kin_v_4_1*x185*x368*x487 - sigma_kin_v_4_1*x401*x499*(-ddq_i1*x255 + x12*x241 + x201*x251 + x217*x248) - sigma_kin_v_4_2*x239*x499*(-ddq_i2*x255 + x207*x251 + x217*x241 + x238*x248) - sigma_kin_v_4_3*x216*x499*(-ddq_i3*x255 + x201*x241 + x207*x248 + x215*x251) - x128*x210*x495*x498 + x145*x160*x70*(x127*x508 + x249*x510 + x249*x512 + x252*x510 + x252*x512 - x262*x506 - x264*x506 + x267*x503 - x417*x506 + x503*x504 - x507*x71 + x508*x509 + x511*x71) - x198*x494*x496 - x205*x496*x497 + x257*x491 - x257*x493 + x262*x489 + x264*x489 + x272*x86*(x157*x492*x501 + x245*x92 + x246 + x249*x502 + x252*x502 + x266 + x269*x500 - 2*x270 + x411 + x418 + x469) + x316*x459*(x242*x523 + x249*x523 + x251*x521*x92 - x262*x520 - x264*x520 + x267*x519 - x284*x507 + x284*x511 + x410*x522 - x417*x520 + x467*x521 + x504*x519 + x518*x522) + x350*x383*(x242*x517 + x248*x515*x92 + x252*x517 - x262*x514 - x264*x514 + x267*x513 - x320*x507 + x320*x511 + x409*x515 - x417*x514 + x468*x516 + x504*x513 + x516*x518) + x42*x443*(sigma_pot_4_c*x48 + sigma_pot_4_s*x45) + x491*x492 - x492*x493)
    
    return K_block_list

